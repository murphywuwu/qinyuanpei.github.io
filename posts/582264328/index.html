<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'true', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    
<!-- Tencent Speed -->
<script>var _speedMark = new Date()</script>
<!-- End Tencent Speed -->
<!-- Tencent Analysis -->
<script async src="//tajs.qq.com/stats?sId=66474307"></script>
<!-- End Tencent Analysis -->


    


<!-- Baidu Push -->
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- End Baidu Push -->


    <meta charset="utf-8">
    <!-- HTTP 1.1 -->  
    <meta http-equiv="pragma" content="no-cache">  
    <!-- HTTP 1.0 -->  
    <meta http-equiv="cache-control" content="no-cache">
    <!-- 微博图床防盗链 --> 
    <!-- <meta name="referrer" content="no-referrer"/> -->
    <!--Google站点验证-->
    
        <meta name="google-site-verification" content="8AqkWAh0QNZqCYB2oKA5yIrqEA3sgxUvglVmtWkuU0s">
    
    <!--Google站点验证-->
    <meta name="baidu-site-verification" content="c50FGqYOSh" />
    
    <!--Google AdSense-->
    
    
    <title>
        Unity3D游戏开发之SQLite让数据库开发更简单 - 一个人的孤落时辰
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="theme-color" content="#3F51B5">
    

    <meta name="keywords" content="Unity3D,数据库,SQLite,秦元培,技术博客,生活随笔,个人博客">
    
        <meta name="description" content="* 三、在使用InsertValues方法时请参考SQLite中字段类型与C#中数据类型的对应关系，博主目前测试了int类型和string类型都没有什么问题，更多类型的数据请大家自行测试然后告诉博主测试的结果，如果大家有兴趣扩展这个辅助类的话可以自行去扩展哦，嘿嘿;int fieldCount=ReadFullTable(tableName).FieldCount;在Unity3D中使用的SQLite以Mono.Data.Sqlite.dll即动态链接库的形式给出，因此我们需要将这个文件放置在项目目录下的Plugins文件夹中，此外我们需要System.Data.dll或者Mono.Data.dll这两个文件添加到Plugins目录中，因为我们需要的部分数据相关的API或者类都定义在这两个文件当中，这些文件可以从[这里](http://pan.baidu.com/s/1sjLZyrj)直接下载">
    
    <meta name="description" content="* 三、在使用InsertValues方法时请参考SQLite中字段类型与C#中数据类型的对应关系，博主目前测试了int类型和string类型都没有什么问题，更多类型的数据请大家自行测试然后告诉博主测试的结果，如果大家有兴趣扩展这个辅助类的话可以自行去扩展哦，嘿嘿;int fieldCount&#x3D;ReadFullTable(tableName).FieldCount;在Unity3D中使用的SQLi">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity3D游戏开发之SQLite让数据库开发更简单">
<meta property="og:url" content="https://qinyuanpei.github.io/posts/582264328/index.html">
<meta property="og:site_name" content="一个人的孤落时辰">
<meta property="og:description" content="* 三、在使用InsertValues方法时请参考SQLite中字段类型与C#中数据类型的对应关系，博主目前测试了int类型和string类型都没有什么问题，更多类型的数据请大家自行测试然后告诉博主测试的结果，如果大家有兴趣扩展这个辅助类的话可以自行去扩展哦，嘿嘿;int fieldCount&#x3D;ReadFullTable(tableName).FieldCount;在Unity3D中使用的SQLi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/None.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/None.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/4c36074fly1fz68jpgvl4j20s00ibdik.jpg">
<meta property="article:published_time" content="2015-07-09T09:47:06.000Z">
<meta property="article:modified_time" content="2020-08-05T05:42:27.973Z">
<meta property="article:author" content="飞鸿踏雪">
<meta property="article:tag" content="Unity3D">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="SQLite">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ww1.sinaimg.cn/large/None.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="一个人的孤落时辰" href="/atom.xml">
    
    <link rel="shortcut icon" href="/assets/images/favicon.ico">
    
        <link rel="manifest" href="/manifest.json">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9//assets/styles/style.css">
    <script>window.lazyScripts=[]</script>
    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/assets/images/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/assets/images/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">飞鸿踏雪</h5>
          <a href="mailto:qinyuanpei@163.com" title="qinyuanpei@163.com" class="mail">qinyuanpei@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/books"  >
                <i class="icon icon-lg icon-bookmark"></i>
                读书
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/movies"  >
                <i class="icon icon-lg icon-film"></i>
                电影
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/works"  >
                <i class="icon icon-lg icon-code"></i>
                作品
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-circle"></i>
                关于
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
            <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Unity3D游戏开发之SQLite让数据库开发更简单</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off"
                placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
        <a href="https://github.com/qinyuanpei/qinyuanpei.github.io" target="_blank" rel="noopener" class="header-icon waves-effect waves-circle waves-light" id="menuGithub">
            <i class="icon icon-lg icon-code-fork"></i>
        </a>
    </div>
</header>
<header class="content-header post-header">
    <div class="container fade-scale">
        <h1 class="title">Unity3D游戏开发之SQLite让数据库开发更简单</h1>
        <h5 class="subtitle" id="subtitle">
            
            <time datetime="2015-07-09T09:47:06.000Z" itemprop="datePublished" class="page-time">
  2015-07-09
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/">游戏开发</a></li></ul>

            
        </h5>
    </div>
    

</header>

<div class="container body-wrap">
    
    <article id="post-Unity3D游戏开发之SQLite让数据库开发更简单" class="post-article article-type-post fade" itemprop="blogPost">

        <div class="post-card">
            <h1 class="post-card-title">
                Unity3D游戏开发之SQLite让数据库开发更简单
            </h1>
            <div class="post-meta">
                <time class="post-time" title="2015-07-09 09:47:06" datetime="2015-07-09T09:47:06.000Z"  itemprop="datePublished">2015-07-09</time>

                
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/">游戏开发</a></li></ul>



                
<span id="lc_counter_container_page_pv" title="文章总阅读量" data-page-url="" data-page-title="Unity3D游戏开发之SQLite让数据库开发更简单">
    <i class="icon icon-eye icon-pr"></i><span id="lc_counter_value_page_pv"></span>
</span>





                
    <span>
        <i class="icon icon-clock-o"></i>
        26 min.
    </span>
    
            </div>
            <div class="post-content" id="post-content" itemprop="postContent">
                <p>&emsp;&emsp;各位朋友大家好，欢迎大家关注我的博客，我是秦元培，我是博客地址是<a href="http://blog.csdn.net/qinyuanpei" target="_blank" rel="noopener">http://blog.csdn.net/qinyuanpei</a>。在经历了一段时间的忙碌后，博主终于有时间来研究新的东西啦，今天博客向和大家一起交流的内容是在Unity3D游戏开发中使用SQLite进行数据库开发，坦白来讲，在我的技术体系中Web和数据库是相对薄弱的两个部分，因此正好这段时间项目需要和服务器、数据库进行交互，因此在接下来的文章中博主可能会更加倾向于讲解这方面的内容，希望大家能够喜欢啊！</p>
<a id="more"></a>

<p>##一、什么是SQLite？<br>&emsp;&emsp;<a href="http://www.sqlite.org/" target="_blank" rel="noopener">SQLite</a>是一款轻型的数据库，是遵守ACID的关系型数据库管理系统，它包含在一个相对小的C库中，以嵌入式作为它的设计目标，它占用资源非常的低，因此适合在嵌入式设备如Android、Ruby on Rails等中使用。它能够支持Windows/Linux/Unix等等主流的操作系统，同时能够跟和C、C++、Ruby、Python、C#、PHP、Java等编程语言相结合。SQLite是一个以文件形式存在的关系型数据库，尽管无法实现分布式和横向扩展，可是作为一个轻量级的嵌入式数据库，它不需要系统提供服务支持，通过SDK直接操作文件避免了对数据库维护的相关事务，从这个角度来讲它是一个出色的数据库。<br>##二、为什么要选择SQLite<br>&emsp;&emsp;好了，在了解了SQLite后，我们来了解下SQLite有哪些让我们心动的特性，或者说我们为什么要选择SQLite，因为在这个世界上我们有太多的数据库可以选择，诸如Oracle、MySQL、SQLServer、DB2、NoSQL、MongoDB等等：</p>
<blockquote>
<ul>
<li>ACID事务</li>
<li>零配置 – 无需安装和管理配置</li>
<li>储存在单一磁盘文件中的一个完整的数据库</li>
<li>数据库文件可以在不同字节顺序的机器间自由的共享</li>
<li>支持数据库大小至2TB</li>
<li>足够小, 大致13万行C代码, 4.43M</li>
</ul>
</blockquote>
<ul>
<li>比一些流行的数据库在大部分普通数据库操作要快—<a href="http://www.zhihu.com/question/31417262" target="_blank" rel="noopener">SQLite读写效率如此之高，会使用其他数据库的理由是？</a></li>
<li>简单, 轻松的API</li>
<li>包含TCL绑定, 同时通过Wrapper支持其他语言的绑定</li>
<li>良好注释的源代码, 并且有着90%以上的测试覆盖率</li>
<li>独立: 没有额外依赖</li>
<li>源码完全的开源, 你可以用于任何用途, 包括出售它</li>
<li>支持多种开发语言，C, C++, PHP, Perl, Java, C#,Python, Ruby等</li>
</ul>
<p>##三、Unity3D中的SQLite<br>&emsp;&emsp;在Unity3D中使用SQLite，我们首先要明白这样一件事情，即我们这里的使用的SQLite并非是通常意义上的SQLite.NET,而是经过移植后的Mono.Data.Sqlite。因为Unity3D基于Mono，因此使用移植后的Mono.Data.Sqlite能够减少我们的项目在不同平台上出现各种各样的问题。在Unity3D中使用的SQLite以Mono.Data.Sqlite.dll即动态链接库的形式给出，因此我们需要将这个文件放置在项目目录下的Plugins文件夹中，此外我们需要System.Data.dll或者Mono.Data.dll这两个文件添加到Plugins目录中，因为我们需要的部分数据相关的API或者类都定义在这两个文件当中，这些文件可以从<a href="http://pan.baidu.com/s/1sjLZyrj" target="_blank" rel="noopener">这里</a>直接下载。</p>
<blockquote>
<p>PS：博主注意到在网上有使用Mono.Data.SQLiteClient.dll这个库实现在Unity3D操作SQLite数据库的相关文章，博主大概看了下，感觉和使用Mono.Data.Sqlite.dll这个库大同小异，大家喜欢哪个就用哪个吧！哈哈！博主在开源社区找到一个版本库，据说可以同时支持.NET和Mono，如果大家感兴趣欢迎大家去测试啊，哈哈!</p>
</blockquote>
<p>&emsp;&emsp;在正式开始写代码前，我们首先来回顾下通常情况下数据库读写的基本流程吧！</p>
<blockquote>
<ul>
<li>定义数据库连接字符串(ConnectionString)完成数据库连接的构造，建立或者打开一个数据库。</li>
<li>定义相关的SQL命令(Command)通过这些命令实现对数据库的增加、删除、更新、读取四种基本功能。</li>
<li>在完成各种数据库操作后及时关闭数据库连接，解除对数据库的连接和引用。</li>
</ul>
</blockquote>
<p>&emsp;&emsp;SQLite作为一款优秀的数据库，在为其编写数据库相关代码时同样遵循这样的流程，考虑到对数据库的增加、删除、更新、读取四种操作具有类似性和统一性，因此在动手写Unity3D脚本前，首先让我们来编写一个SQLite的辅助类SQLiteHelper.cs。该类代码定义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line">using Mono.Data.Sqlite;</span><br><span class="line">using System;</span><br><span class="line"></span><br><span class="line">public class SQLiteHelper</span><br><span class="line">&#123;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 数据库连接定义</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	private SqliteConnection dbConnection;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; SQL命令定义</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	private SqliteCommand dbCommand;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 数据读取定义</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	private SqliteDataReader dataReader;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 构造函数	</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;connectionString&quot;&gt;数据库连接字符串&lt;&#x2F;param&gt;</span><br><span class="line">	public SQLiteHelper(string connectionString)</span><br><span class="line">	&#123;</span><br><span class="line">		try&#123;</span><br><span class="line">			&#x2F;&#x2F;构造数据库连接</span><br><span class="line">			dbConnection&#x3D;new SqliteConnection(connectionString);</span><br><span class="line">			&#x2F;&#x2F;打开数据库</span><br><span class="line">			dbConnection.Open();</span><br><span class="line">		&#125;catch(Exception e)</span><br><span class="line">		&#123;</span><br><span class="line">			Debug.Log(e.Message);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 执行SQL命令</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The query.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;queryString&quot;&gt;SQL命令字符串&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader ExecuteQuery(string queryString)</span><br><span class="line">	&#123;</span><br><span class="line">		dbCommand &#x3D; dbConnection.CreateCommand();</span><br><span class="line">		dbCommand.CommandText &#x3D; queryString;</span><br><span class="line">		dataReader &#x3D; dbCommand.ExecuteReader();</span><br><span class="line">		return dataReader;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 关闭数据库连接</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	public void CloseConnection()</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;销毁Command</span><br><span class="line">		if(dbCommand !&#x3D; null)&#123;</span><br><span class="line">			dbCommand.Cancel();</span><br><span class="line">		&#125;</span><br><span class="line">		dbCommand &#x3D; null;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;销毁Reader</span><br><span class="line">		if(dataReader !&#x3D; null)&#123;</span><br><span class="line">			dataReader.Close();</span><br><span class="line">		&#125;</span><br><span class="line">		dataReader &#x3D; null;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;销毁Connection</span><br><span class="line">		if(dbConnection !&#x3D; null)&#123;</span><br><span class="line">			dbConnection.Close();</span><br><span class="line">		&#125;</span><br><span class="line">		dbConnection &#x3D; null;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 读取整张数据表</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The full table.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;数据表名称&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader ReadFullTable(string tableName)</span><br><span class="line">	&#123;</span><br><span class="line">		string queryString &#x3D; &quot;SELECT * FROM &quot; + tableName;</span><br><span class="line">		return ExecuteQuery (queryString);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 向指定数据表中插入数据</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The values.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;数据表名称&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;values&quot;&gt;插入的数值&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader InsertValues(string tableName,string[] values)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;获取数据表中字段数目</span><br><span class="line">		int fieldCount&#x3D;ReadFullTable(tableName).FieldCount;</span><br><span class="line">		&#x2F;&#x2F;当插入的数据长度不等于字段数目时引发异常</span><br><span class="line">		if(values.Length!&#x3D;fieldCount)&#123;</span><br><span class="line">			throw new SqliteException(&quot;values.Length!&#x3D;fieldCount&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		string queryString &#x3D; &quot;INSERT INTO &quot; + tableName + &quot; VALUES (&quot; + values[0];</span><br><span class="line">		for(int i&#x3D;1; i&lt;values.Length; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot;, &quot; + values[i];</span><br><span class="line">		&#125;</span><br><span class="line">		queryString +&#x3D; &quot; )&quot;;</span><br><span class="line">		return ExecuteQuery(queryString);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 更新指定数据表内的数据</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The values.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;数据表名称&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colNames&quot;&gt;字段名&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colValues&quot;&gt;字段名对应的数据&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;key&quot;&gt;关键字&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;value&quot;&gt;关键字对应的值&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader UpdateValues(string tableName,string[] colNames,string[] colValues,string key,string operation,string value)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;当字段名称和字段数值不对应时引发异常</span><br><span class="line">		if(colNames.Length!&#x3D;colValues.Length) &#123;</span><br><span class="line">			throw new SqliteException(&quot;colNames.Length!&#x3D;colValues.Length&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		string queryString &#x3D; &quot;UPDATE &quot; + tableName + &quot; SET &quot; + colNames[0] + &quot;&#x3D;&quot; + colValues[0];</span><br><span class="line">		for(int i&#x3D;1; i&lt;colValues.Length; i++) </span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot;, &quot; + colNames[i] + &quot;&#x3D;&quot; + colValues[i];</span><br><span class="line">		&#125;</span><br><span class="line">		queryString +&#x3D; &quot; WHERE &quot; + key + operation + value;</span><br><span class="line">		return ExecuteQuery(queryString);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 删除指定数据表内的数据</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The values.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;数据表名称&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colNames&quot;&gt;字段名&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colValues&quot;&gt;字段名对应的数据&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader DeleteValuesOR(string tableName,string[] colNames,string[] operations,string[] colValues)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;当字段名称和字段数值不对应时引发异常</span><br><span class="line">		if(colNames.Length!&#x3D;colValues.Length || operations.Length!&#x3D;colNames.Length || operations.Length!&#x3D;colValues.Length) &#123;</span><br><span class="line">			throw new SqliteException(&quot;colNames.Length!&#x3D;colValues.Length || operations.Length!&#x3D;colNames.Length || operations.Length!&#x3D;colValues.Length&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		string queryString &#x3D; &quot;DELETE FROM &quot; + tableName + &quot; WHERE &quot; + colNames[0] + operations[0] + colValues[0];</span><br><span class="line">		for(int i&#x3D;1; i&lt;colValues.Length; i++) </span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot;OR &quot; + colNames[i] + operations[0] + colValues[i];</span><br><span class="line">		&#125;</span><br><span class="line">		return ExecuteQuery(queryString);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 删除指定数据表内的数据</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The values.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;数据表名称&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colNames&quot;&gt;字段名&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colValues&quot;&gt;字段名对应的数据&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader DeleteValuesAND(string tableName,string[] colNames,string[] operations,string[] colValues)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;当字段名称和字段数值不对应时引发异常</span><br><span class="line">		if(colNames.Length!&#x3D;colValues.Length || operations.Length!&#x3D;colNames.Length || operations.Length!&#x3D;colValues.Length) &#123;</span><br><span class="line">			throw new SqliteException(&quot;colNames.Length!&#x3D;colValues.Length || operations.Length!&#x3D;colNames.Length || operations.Length!&#x3D;colValues.Length&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		string queryString &#x3D; &quot;DELETE FROM &quot; + tableName + &quot; WHERE &quot; + colNames[0] + operations[0] + colValues[0];</span><br><span class="line">		for(int i&#x3D;1; i&lt;colValues.Length; i++) </span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot; AND &quot; + colNames[i] + operations[i] + colValues[i];</span><br><span class="line">		&#125;</span><br><span class="line">		return ExecuteQuery(queryString);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; 创建数据表</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt; +</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The table.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;数据表名&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colNames&quot;&gt;字段名&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colTypes&quot;&gt;字段名类型&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader CreateTable(string tableName,string[] colNames,string[] colTypes)</span><br><span class="line">	&#123;</span><br><span class="line">		string queryString &#x3D; &quot;CREATE TABLE &quot; + tableName + &quot;( &quot; + colNames [0] + &quot; &quot; + colTypes [0];</span><br><span class="line">		for (int i&#x3D;1; i&lt;colNames.Length; i++) </span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot;, &quot; + colNames[i] + &quot; &quot; + colTypes[i];</span><br><span class="line">		&#125;</span><br><span class="line">		queryString+&#x3D; &quot;  ) &quot;;</span><br><span class="line">		return ExecuteQuery(queryString);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; Reads the table.</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;returns&gt;The table.&lt;&#x2F;returns&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;tableName&quot;&gt;Table name.&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;items&quot;&gt;Items.&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colNames&quot;&gt;Col names.&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;operations&quot;&gt;Operations.&lt;&#x2F;param&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;colValues&quot;&gt;Col values.&lt;&#x2F;param&gt;</span><br><span class="line">	public SqliteDataReader ReadTable(string tableName,string[] items,string[] colNames,string[] operations, string[] colValues)</span><br><span class="line">	&#123;</span><br><span class="line">		string queryString &#x3D; &quot;SELECT &quot; + items [0];</span><br><span class="line">		for (int i&#x3D;1; i&lt;items.Length; i++) </span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot;, &quot; + items[i];</span><br><span class="line">		&#125;</span><br><span class="line">		queryString +&#x3D; &quot; FROM &quot; + tableName + &quot; WHERE &quot; + colNames[0] + &quot; &quot; +  operations[0] + &quot; &quot; + colValues[0];</span><br><span class="line">		for (int i&#x3D;0; i&lt;colNames.Length; i++) </span><br><span class="line">		&#123;</span><br><span class="line">			queryString+&#x3D;&quot; AND &quot; + colNames[i] + &quot; &quot; + operations[i] + &quot; &quot; + colValues[0] + &quot; &quot;;</span><br><span class="line">		&#125;</span><br><span class="line">		return ExecuteQuery(queryString);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&emsp;&emsp;SQLiteHelper类主要实现了数据库、数据表的创建以及数据表中记录的增加、删除、更新、读取四种基本功能。该类最初由国外的Unity3D开发者发布在<a href="http://forum.unity3d.com/threads/28500-SQLite-Class-Easier-Database-Stuff" target="_blank" rel="noopener">Unity3D官方论坛</a>,后来经<a href="http://www.xuanyusong.com/archives/831" target="_blank" rel="noopener">宣雨松</a>使用C#进行重写，我在此基础上进行了完善，再此对两位大神的无私付出表示感谢。这里要说明的有三点：</p>
<ul>
<li><p>一、在Unity3D编辑器下生成数据库文件(.db)默认位于和Assets目录同级的位置，即项目的工程文件夹中。我们可以通过修改路径在改变数据库文件的存储位置，具体来讲：<br>Windows平台：data source=Application.dataPath/数据库名称.db<br>IOS平台：data source=Application.persistentDataPath/数据库名称.db<br>Android平台：URL=file:Application.persistentDataPath/数据库名称.db(我想说Android平台就是个奇葩，搞什么特殊化嘛)</p>
</li>
<li><p>二、确保Unity3D编辑器中的.NET版本和MonoDevelop中的.NET版本都为2.0版本，在Unity3D中打包导出的程序可能不会保留数据库文件，因此需要手动将数据库文件拷贝到相应的位置，当然更加合理的方案是将数据库文件存放到StreamingAssets文件夹下，然后在第一次加载游戏的时候将数据库文件复制到对应平台上的存放位置。</p>
</li>
<li><p>三、在使用InsertValues方法时请参考SQLite中字段类型与C#中数据类型的对应关系，博主目前测试了int类型和string类型都没有什么问题，更多类型的数据请大家自行测试然后告诉博主测试的结果，如果大家有兴趣扩展这个辅助类的话可以自行去扩展哦，嘿嘿！</p>
</li>
</ul>
<p>&emsp;&emsp;好了，千呼万唤始出来的时候到了，下面我们以一个实例来完成今天的项目讲解，因为我们已经定义好了SQLite的辅助类，因此我们可以快速地编写出下面的脚本代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using System.Collections;</span><br><span class="line">using System.IO;</span><br><span class="line">using Mono.Data.Sqlite;</span><br><span class="line"></span><br><span class="line">public class SQLiteDemo : MonoBehaviour </span><br><span class="line">&#123;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;summary&gt;</span><br><span class="line">	&#x2F;&#x2F;&#x2F; SQLite数据库辅助类</span><br><span class="line">	&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;</span><br><span class="line">	private SQLiteHelper sql;</span><br><span class="line"></span><br><span class="line">	void Start () </span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;创建名为sqlite4unity的数据库</span><br><span class="line">		sql &#x3D; new SQLiteHelper(&quot;data source&#x3D;sqlite4unity.db&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;创建名为table1的数据表</span><br><span class="line">		sql.CreateTable(&quot;table1&quot;,new string[]&#123;&quot;ID&quot;,&quot;Name&quot;,&quot;Age&quot;,&quot;Email&quot;&#125;,new string[]&#123;&quot;INTEGER&quot;,&quot;TEXT&quot;,&quot;INTEGER&quot;,&quot;TEXT&quot;&#125;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;插入两条数据</span><br><span class="line">		sql.InsertValues(&quot;table1&quot;,new string[]&#123;&quot;&#39;1&#39;&quot;,&quot;&#39;张三&#39;&quot;,&quot;&#39;22&#39;&quot;,&quot;&#39;Zhang3@163.com&#39;&quot;&#125;);</span><br><span class="line">		sql.InsertValues(&quot;table1&quot;,new string[]&#123;&quot;&#39;2&#39;&quot;,&quot;&#39;李四&#39;&quot;,&quot;&#39;25&#39;&quot;,&quot;&#39;Li4@163.com&#39;&quot;&#125;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;更新数据，将Name&#x3D;&quot;张三&quot;的记录中的Name改为&quot;Zhang3&quot;</span><br><span class="line">		sql.UpdateValues(&quot;table1&quot;, new string[]&#123;&quot;Name&quot;&#125;, new string[]&#123;&quot;&#39;Zhang3&#39;&quot;&#125;, &quot;Name&quot;, &quot;&#x3D;&quot;, &quot;&#39;张三&#39;&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;插入3条数据</span><br><span class="line">		sql.InsertValues(&quot;table1&quot;,new string[]&#123;&quot;3&quot;,&quot;&#39;王五&#39;&quot;,&quot;25&quot;,&quot;&#39;Wang5@163.com&#39;&quot;&#125;);</span><br><span class="line">		sql.InsertValues(&quot;table1&quot;,new string[]&#123;&quot;4&quot;,&quot;&#39;王五&#39;&quot;,&quot;26&quot;,&quot;&#39;Wang5@163.com&#39;&quot;&#125;);</span><br><span class="line">		sql.InsertValues(&quot;table1&quot;,new string[]&#123;&quot;5&quot;,&quot;&#39;王五&#39;&quot;,&quot;27&quot;,&quot;&#39;Wang5@163.com&#39;&quot;&#125;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;删除Name&#x3D;&quot;王五&quot;且Age&#x3D;26的记录,DeleteValuesOR方法类似</span><br><span class="line">		sql.DeleteValuesAND(&quot;table1&quot;, new string[]&#123;&quot;Name&quot;,&quot;Age&quot;&#125;, new string[]&#123;&quot;&#x3D;&quot;,&quot;&#x3D;&quot;&#125;, new string[]&#123;&quot;&#39;王五&#39;&quot;,&quot;&#39;26&#39;&quot;&#125;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;读取整张表</span><br><span class="line">		SqliteDataReader reader &#x3D; sql.ReadFullTable (&quot;table1&quot;);</span><br><span class="line">		while(reader.Read()) </span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;读取ID</span><br><span class="line">			Debug.Log(reader.GetInt32(reader.GetOrdinal(&quot;ID&quot;)));</span><br><span class="line">			&#x2F;&#x2F;读取Name</span><br><span class="line">			Debug.Log(reader.GetString(reader.GetOrdinal(&quot;Name&quot;)));</span><br><span class="line">			&#x2F;&#x2F;读取Age</span><br><span class="line">			Debug.Log(reader.GetInt32(reader.GetOrdinal(&quot;Age&quot;)));</span><br><span class="line">			&#x2F;&#x2F;读取Email</span><br><span class="line">			Debug.Log(reader.GetString(reader.GetOrdinal(&quot;Email&quot;)));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;读取数据表中Age&gt;&#x3D;25的所有记录的ID和Name</span><br><span class="line">		reader &#x3D; sql.ReadTable (&quot;table1&quot;, new string[]&#123;&quot;ID&quot;,&quot;Name&quot;&#125;, new string[]&#123;&quot;Age&quot;&#125;, new string[]&#123;&quot;&gt;&#x3D;&quot;&#125;, new string[]&#123;&quot;&#39;25&#39;&quot;&#125;);</span><br><span class="line">		while(reader.Read()) </span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;读取ID</span><br><span class="line">			Debug.Log(reader.GetInt32(reader.GetOrdinal(&quot;ID&quot;)));</span><br><span class="line">			&#x2F;&#x2F;读取Name</span><br><span class="line">			Debug.Log(reader.GetString(reader.GetOrdinal(&quot;Name&quot;)));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;自定义SQL,删除数据表中所有Name&#x3D;&quot;王五&quot;的记录</span><br><span class="line">		sql.ExecuteQuery(&quot;DELETE FROM table1 WHERE NAME&#x3D;&#39;王五&#39;&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;关闭数据库连接</span><br><span class="line">		sql.CloseConnection();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;在上面的代码中我们是在Start方法中创建了数据库和数据表，然而在实际使用中我们需要判断数据库和数据表是否存在，因此如果你使用这段脚本提示错误信息，请确保数据库和数据表是否已经存在。好了，下面的截图展示了程序运行的结果：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ww1.sinaimg.cn/large/None.jpg" alt="数据库效果演示" title="" referrerpolicy="no-referrer">
                </div>
                <div class="image-caption">数据库效果演示</div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ww1.sinaimg.cn/large/None.jpg" alt="Unity3D效果展示" title="" referrerpolicy="no-referrer">
                </div>
                <div class="image-caption">Unity3D效果展示</div>
            </figure>

<p>&emsp;&emsp;作为一个强大的数据库怎么能没有图形化的数据库管理工具呢？所以这里博主向大家推荐一个免安装的小工具SqliteStudio，使用这个工具可以帮助我们方便地管理Sqlite数据库里的数据，这样是不是比较方便呢？哈哈！这个工具可以从<a href="http://pan.baidu.com/s/1hqldZ3A" target="_blank" rel="noopener">这里</a>下载哦！</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ww1.sinaimg.cn/large/4c36074fly1fz68jpgvl4j20s00ibdik.jpg" alt="SQLiteStudio界面演示" title="" referrerpolicy="no-referrer">
                </div>
                <div class="image-caption">SQLiteStudio界面演示</div>
            </figure>

<p>&emsp;&emsp;好了，今天的内容就是这样了，为了写这篇文章花了三个晚上准备，希望大家喜欢啊！如果大家觉得这篇文章有用，请继续关注我的博客，我是秦元培，我的博客地址是<a href="http://blog.csdn.net/qinyuanpei" target="_blank" rel="noopener">http://blog.csdn.net/qinyuanpei</a>。</p>
<p>&emsp;&emsp;<strong>2015年11月3日更新内容如下</strong>：不同平台上的数据库存储路径</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span>各平台下数据库存储的绝对路径(通用)</span><br><span class="line"><span class="regexp">//</span>PC：sql = new SQLiteHelper(<span class="string">"data source="</span> + Application.dataPath + <span class="string">"/sqlite4unity.db"</span>);</span><br><span class="line"><span class="regexp">//</span>Mac：sql = new SQLiteHelper(<span class="string">"data source="</span> + Application.dataPath + <span class="string">"/sqlite4unity.db"</span>);</span><br><span class="line"><span class="regexp">//</span>Android：sql = new SQLiteHelper(<span class="string">"URI=file:"</span> + Application.persistentDataPath + <span class="string">"/sqlite4unity.db"</span>);</span><br><span class="line"><span class="regexp">//i</span>OS：sql = new SQLiteHelper(<span class="string">"data source="</span> + Application.persistentDataPath + <span class="string">"/sqlite4unity.db"</span>);</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>PC平台下的相对路径</span><br><span class="line"><span class="regexp">//</span>sql = new SQLiteHelper(<span class="string">"data source="</span>sqlite4unity.d<span class="string">b");</span></span><br><span class="line"><span class="string">//编辑器：Assets/sqlite4unity.db</span></span><br><span class="line"><span class="string">//编译后：和AppName.exe同级的目录下，这里比较奇葩</span></span><br><span class="line"><span class="string">//当然可以用更随意的方式sql = new SQLiteHelper("</span>data source=<span class="string">"D://SQLite//sqlite4unity.db"</span>);</span><br><span class="line"><span class="regexp">//</span>确保路径存在即可否则会发生错误</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>如果是事先创建了一份数据库</span><br><span class="line"><span class="regexp">//</span>可以将这个数据库放置在StreamingAssets目录下然后再拷贝到</span><br><span class="line"><span class="regexp">//</span>Application.persistentDataPath + <span class="string">"/sqlite4unity.db"</span>路径即可</span><br></pre></td></tr></table></figure>
                
                


<div class="recommended_posts">
    <h1>推荐阅读</h1>
    <ul>
        
        <li><a href="https://qinyuanpei.github.io/posts/3019914405/">Unity3D游戏开发之Unity3D场景编辑器扩展开发</a></li>
        
        <li><a href="https://qinyuanpei.github.io/posts/305484621/">C#中的扩展方法学习总结</a></li>
        
        <li><a href="https://qinyuanpei.github.io/posts/3120185261/">EasyAR尝鲜系列教程之Hello EasyAR</a></li>
        
        <li><a href="https://qinyuanpei.github.io/posts/166983157/">Unity3D游戏开发之分页效果在uGUI中的实现</a></li>
        
        <li><a href="https://qinyuanpei.github.io/posts/1190622881/">Unity3D游戏开发之在uGUI中使用不规则精灵制作按钮</a></li>
        
    </ul>
</div>

            </div>
            
<blockquote class="post-copyright">
    <div class="content">
        <p><b>版权声明：</b>
        <a href="https://qinyuanpei.github.io/posts/582264328/" rel="external">Unity3D游戏开发之SQLite让数据库开发更简单</a>
        ，由&nbsp;<a href="/about" target="_blank" rel="external">飞鸿踏雪</a>&nbsp;
        首次发表于&nbsp;<a href="/" target="_blank" rel="external">一个人的孤落时辰</a>&nbsp;
        ，本文地址为：<a href="https://qinyuanpei.github.io/posts/582264328/" target="_blank" rel="external">https://qinyuanpei.github.io/posts/582264328/</a>
        ，转载请注明<b>作者</b>和<b>出处</b>。</p>
    </div>
    <footer>
        <a href="https://qinyuanpei.github.io">
            <img src="/assets/images/avatar.jpg" alt="飞鸿踏雪">
            飞鸿踏雪
        </a>
    </footer>
</blockquote>


            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>


            <div class="post-footer">
                
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQLite/" rel="tag">SQLite</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3D/" rel="tag">Unity3D</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

                
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://qinyuanpei.github.io/posts/582264328/&title=《Unity3D游戏开发之SQLite让数据库开发更简单》 — 一个人的孤落时辰&pic=https://qinyuanpei.github.ioassets/images/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://qinyuanpei.github.io/posts/582264328/&title=《Unity3D游戏开发之SQLite让数据库开发更简单》 — 一个人的孤落时辰&source=&emsp;&emsp;各位朋友大家好，欢迎大家关注我的博客，我是秦元培，我是博客地址是http://blog.csdn.net/qinyuanpei。在..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://qinyuanpei.github.io/posts/582264328/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Unity3D游戏开发之SQLite让数据库开发更简单》 — 一个人的孤落时辰&url=https://qinyuanpei.github.io/posts/582264328/&via=https://qinyuanpei.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://qinyuanpei.github.io/posts/582264328/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>


            </div>
        </div>

        
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/posts/1118169753/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">《仙剑奇侠传六》游戏感言</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/posts/1320325685/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Unity3D游戏开发之从Unity3D项目版本控制说起</h4>
      </a>
    </div>
  
</nav>


        
    <div id="comment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script type="text/javascript">
new Valine({
    el: '#comment' ,
    notify: false, 
    verify: true, 
    appId: 'JbHqRp2eMrTgIwYpfERH0g79-gzGzoHsz',
    appKey: 'VsiKvLuiBGvJL1XrAfv7siY2',
    placeholder: '云中谁寄锦书来，雁字回时，月满西楼。&#10;Tips：如果希望收到我的评论回复，请至少留下你的邮箱哦:)',
    path:'https://qinyuanpei.github.io/posts/582264328/', 
    avatar:'identicon',
});
</script>




    </article>
    
<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        赠人玫瑰，手有余香
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/assets/images/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/assets/images/wechat.png" data-alipay="/assets/images/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>


</div>

        <footer class="footer">
    <div class="top">
        
   <p>
      <span id="lc_counter_container_site_uv">
         <i class="icon icon-user"></i><span id="lc_counter_value_site_uv"></span>
      </span>
      <span id="lc_counter_container_site_pv">
         <i class="icon icon-eye"></i><span id="lc_counter_value_site_pv"></span>
      </span>
  </p>


        <p>
   <a id="jinrishici-sentence" href="https://www.jinrishici.com/" target="_blank" rel="noopener">加载中</a>
</p>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
<script>
   jinrishici.load(function(result) {
      document.querySelector('#subtitle').innerText = `${result.data.content} - [${result.data.origin.dynasty}] - ${result.data.origin.author}`;
      document.querySelector('#jinrishici-sentence').innerText = result.data.content;
  });
</script>
            <!--Todo: 考虑重构为插件 -->
            <p>
                
                    <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
                
                <span>
                    <a href="https://github.com/qinyuanpei" target="_blank" rel="license noopener" title="Github">
                        <i class="icon icon-lg icon-github"></i>
                    </a>
                </span>
                <span>
                    <a href="https://weibo.com/1278609231/profile" target="_blank" rel="license noopener" title="微博">
                        <i class="icon icon-lg icon-weibo"></i>
                    </a>
                </span>
                <span>
                    <a href="https://www.douban.com/people/60029335/" target="_blank" rel="license noopener" title="豆瓣">
                        <i class="icon icon-lg icon-douban"></i>
                    </a>
                </span>
                <span>
                    <a href="https://www.zhihu.com/people/qinyuanpei" target="_blank" rel="license noopener" title="知乎">
                        <i class="icon icon-lg icon-zhihu-square"></i>
                    </a>
                </span>
                <span>
                    <a href="https://blog.csdn.net/qinyuanpei" target="_blank" rel="license noopener" title="CSDN">
                        <i class="icon icon-lg">C</i>
                    </a>
                </span>
                <span>
                    <a href="https://music.163.com/#/user/home?id=47002864" target="_blank" rel="license noopener" title="网易音乐">
                        <i class="icon icon-lg icon-wangyiyunyinyue"></i>
                    </a>
                </span>
            </p>
        
    </div>
    <div class="bottom">
        <p><span>飞鸿踏雪 &copy; 2014 - 2020</span><br>
            
                
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & Theme by <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a><br>
                
                
                    <p>Hosted by <a href="https://pages.github.com" target="_blank" rel="noopener" style="font-weight: bold">Github Pages</a></p>
                
        </p>
    </div>
</footer>
    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span
        class="icon icon-lg icon-chevron-up"></span></a>

    

<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://qinyuanpei.github.io/posts/582264328/&title=《Unity3D游戏开发之SQLite让数据库开发更简单》 — 一个人的孤落时辰&pic=https://qinyuanpei.github.ioassets/images/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://qinyuanpei.github.io/posts/582264328/&title=《Unity3D游戏开发之SQLite让数据库开发更简单》 — 一个人的孤落时辰&source=&emsp;&emsp;各位朋友大家好，欢迎大家关注我的博客，我是秦元培，我是博客地址是http://blog.csdn.net/qinyuanpei。在..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://qinyuanpei.github.io/posts/582264328/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Unity3D游戏开发之SQLite让数据库开发更简单》 — 一个人的孤落时辰&url=https://qinyuanpei.github.io/posts/582264328/&via=https://qinyuanpei.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://qinyuanpei.github.io/posts/582264328/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://qinyuanpei.github.io/posts/582264328/" alt="微信分享二维码">
</div>



    <script src="//cdn.bootcss.com/node-waves/0.7.6/waves.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.2.1/echarts.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9/assets/scripts/echarts-wordcloud.min.js" async></script>
<script>
    var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9/assets/scripts/main.min.js"></script>



<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9/assets/scripts/search.min.js" async></script>



<script src="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9/assets/scripts/heart.min.js" async></script>







<script src="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9/assets/scripts/leancloud-counter.min.js"></script>
<script>
        (function () {
            var appId = 'JbHqRp2eMrTgIwYpfERH0g79-gzGzoHsz';
            var appKey = 'VsiKvLuiBGvJL1XrAfv7siY2';
            new VisitorCounter().init({
                appId: appId,       //应用ID, 必输
                appKey: appKey,      //应用Key, 必输
                region: '华北',      //华东,华北,国际, 默认华东
                domain: '',      //自定义域名
                collectIP: true, //是否收集IP及位置信息, 默认开启
                collectUA: true  //是否收集UserAgent, 默认开启
            });
        })();
</script>



<script src="//cdn.jsdelivr.net/gh/qinyuanpei/qinyuanpei.github.io@v1.0.775.83e17e9/assets/scripts/vconsole.min.js"></script>
<script type="text/javascript">
    //当地址中存在debug=true时，实例化vConsole
    if (location.href.indexOf('debug=true') > -1) {
        var vConsole = new VConsole();
    }
</script>


    <script>
    //国内用户自动重定向Coding Pages镜像
    // var ipInfo = JSON.parse(localStorage.getItem('ipInfo'));
    // if (ipInfo.country_code == 'CN') {
    //     location.href = location.href.replace('qinyuanpei.github.io', 'blog.yuanpei.me');
    // }
    </script>



</body>
</html>
